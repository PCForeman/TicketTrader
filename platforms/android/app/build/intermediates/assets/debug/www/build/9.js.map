{"version":3,"sources":["../../src/pages/adminpayments/adminpayments.module.ts","../../src/pages/adminpayments/adminpayments.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AdminpaymentsPage } from './adminpayments';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AdminpaymentsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AdminpaymentsPage),\r\n  ],\r\n})\r\nexport class AdminpaymentsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/adminpayments/adminpayments.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, App } from 'ionic-angular';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth'\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-adminpayments',\r\n  templateUrl: 'adminpayments.html',\r\n})\r\nexport class AdminpaymentsPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    private afAuth: AngularFireAuth,\r\n    private toast: ToastController,\r\n    private app: App, private fbDatabase: AngularFireDatabase) {\r\n  }\r\n  kA = [];\r\nitems = [];\r\n  ionViewDidLoad() {\r\n    this.retrievePayments();\r\n  }\r\n\r\n  logout() {\r\n    // Logs a user out\r\n    this.afAuth.auth.signOut().then(() => {\r\n      this.toast\r\n        .create({\r\n          message: \"Signed out\",\r\n          position: \"middle\",\r\n          duration: 3500\r\n        })\r\n        .present();\r\n      this.app.getRootNav().setRoot(\"LoginPage\");\r\n    });\r\n  }\r\n\r\n  retrievePayments() {\r\n    // Retrieve all of the unapproved tickets that are in the database, and creates an object for each one\r\n    var ref = this.fbDatabase.object(`payments/`);\r\n    ref.snapshotChanges().subscribe(snapshot => {\r\n      var allData = snapshot.payload.val();\r\n      var array = [];\r\n      array.push(allData);\r\n      var value = Object.keys(allData);\r\n      var keyArray = [];\r\n      keyArray.push(value);\r\n      for (var i = 0; i < value.length; i++) {\r\n        var x = 0;\r\n        var selectedIndex = i;\r\n        var keyValue = value[selectedIndex];\r\n        var indexSelecta = value.length - value.length + i;\r\n        var id = value[indexSelecta];\r\n        this.kA.push(id);\r\n        var ref = this.fbDatabase.object(`payments/${keyValue}`);\r\n        ref.snapshotChanges().subscribe(snapshot => {\r\n          const amount = snapshot.payload.child(`amount`).val();\r\n          const ref = snapshot.payload.child(`ticketRef`).val();\r\n          const pId = snapshot.payload.child(`paymentId`).val();\r\n          this.items.push({\r\n            Amount: amount,\r\n            Ref: ref,\r\n            pId: pId\r\n          });\r\n          x++;\r\n        });\r\n        console.log(this.items);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/adminpayments/adminpayments.ts"],"sourceRoot":""}