{"version":3,"sources":["../../src/pages/login/login.ts","../../src/pages/register/register.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.module.ts","../../src/pages/login/login.module.ts","../../src/pages/admin/admin.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/pages/home/home.ts","../../src/app/app.component.ts","../../src/app/app.firebase.config.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ToastController,\r\n  LoadingController\r\n} from \"ionic-angular\";\r\nimport { User } from \"../../models/user\";\r\nimport { RegisterPage } from \"../register/register\";\r\nimport { AngularFireAuth } from \"angularfire2/auth\";\r\nimport { AngularFireDatabase, AngularFireObject } from \"angularfire2/database\";\r\nimport { AdminPage } from \"../admin/admin\";\r\n\r\nvar loginCounter = 0;\r\nvar attemptsLeft = 4;\r\nvar gFirstname;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-login\",\r\n  templateUrl: \"login.html\"\r\n})\r\nexport class LoginPage {\r\n  user = {} as User;\r\n  userName: AngularFireObject<any>;\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private afDatabase: AngularFireDatabase,\r\n    private toast: ToastController,\r\n    private ldCtrl: LoadingController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {}\r\n\r\n  showSpinner() {\r\n    let loading = this.ldCtrl.create({\r\n      content: \"\"\r\n    });\r\n    loading.present();\r\n    setTimeout(() => {\r\n      loading.dismiss();\r\n    }, 250);\r\n  }\r\n\r\n  async loginRegister() { // Redirects user to registration page\r\n    await this.showSpinner();\r\n    await this.navCtrl.setRoot(RegisterPage);\r\n  }\r\n\r\n  adminLogin(user: User) { // Checks if the user is an admin, Otherwise calls the normal user login\r\n    var adminCredential1 = user.email;\r\n    var adminCredential2 = user.password;\r\n    if (\r\n      adminCredential1 == \"admin@TicketTrader.com\" &&\r\n      adminCredential2 == \"admin!\"\r\n    ) {\r\n      this.navCtrl.setRoot(AdminPage);\r\n    } else {\r\n      this.loginLogin(user);\r\n    }\r\n  }\r\n\r\n  async loginLogin(user: User) { // Validates a user and logs them into the system, directs them passed on different variables\r\n    await this.showSpinner();\r\n    try {\r\n      const result = await this.afAuth.auth.signInWithEmailAndPassword(\r\n        user.email,\r\n        user.password\r\n      );\r\n      var lastSignIn = new Date(\r\n        this.afAuth.auth.currentUser.metadata.lastSignInTime\r\n      ).valueOf();\r\n      var creation = new Date(\r\n        this.afAuth.auth.currentUser.metadata.creationTime\r\n      ).valueOf();\r\n      var currentTime = new Date().valueOf();\r\n      var x = Number(creation - currentTime);\r\n      var z = Number(lastSignIn - creation);\r\n      var key = this.afAuth.auth.currentUser.uid;\r\n      console.log(result);\r\n      this.userName = this.afDatabase.object(`user/${key}`);\r\n      this.userName.snapshotChanges().subscribe(snapshot => {\r\n        var firstName = snapshot.payload.child(`firstname/`).val();\r\n        gFirstname = firstName;\r\n        var adminCredential1 = user.email;\r\n        var adminCredential2 = user.password;\r\n        if (\r\n          adminCredential1 == \"admin@TicketTrader.com\" &&\r\n          adminCredential2 == \"admin!\"\r\n        ) {\r\n          this.navCtrl.setRoot(\"AdminViewPage\");\r\n        } else if (x < 0 && z > 0) {\r\n          this.toast\r\n            .create({\r\n              message:\r\n                \"Welcome back \" + gFirstname + \" \" + \" enjoy your stay :)\",\r\n              position: \"middle\",\r\n              duration: 2000\r\n            }).present();\r\n          this.navCtrl.setRoot(\"Page\");\r\n        } else {\r\n          this.toast\r\n            .create({\r\n              message:\r\n                \"Welcome to TicketTrader \" +\r\n                gFirstname +\r\n                \" \" +\r\n                \"click on the info button in the top left corner to help get you started.\",\r\n              position: \"middle\",\r\n              duration: 5000\r\n            })\r\n            .present();\r\n          this.navCtrl.setRoot(\"Page\");\r\n        }\r\n      });\r\n    } catch (e) {\r\n      loginCounter = loginCounter + 1;\r\n      attemptsLeft = attemptsLeft - 1;\r\n      console.error(e);\r\n      if (loginCounter < 4) {\r\n        this.toast\r\n          .create({\r\n            message:\r\n              \"Credentials are wrong, You have\" +\r\n              \" \" +\r\n              attemptsLeft +\r\n              \" \" +\r\n              \"attempts left.\",\r\n            position: \"middle\",\r\n            duration: 1000\r\n          })\r\n          .present();\r\n      } else {\r\n        if (attemptsLeft <= 0) {\r\n          var disableLogin = <HTMLButtonElement>(\r\n            document.getElementById(\"btnLogin\")\r\n          );\r\n          var disableReg = <HTMLButtonElement>document.getElementById(\"btnReg\");\r\n          disableLogin.disabled = true;\r\n          disableReg.disabled = true;\r\n          this.toast\r\n            .create({\r\n              message:\r\n                \"Wrong credentials have been entered too many times, your account has been locked.\",\r\n              position: \"middle\",\r\n              duration: 3500\r\n            })\r\n            .present();\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ToastController,\r\n  LoadingController\r\n} from \"ionic-angular\";\r\nimport { User } from \"../../models/user\";\r\nimport { AngularFireAuth } from \"angularfire2/auth\";\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-register\",\r\n  templateUrl: \"register.html\"\r\n})\r\nexport class RegisterPage {\r\n  user = {} as User;\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private afDatabase: AngularFireDatabase,\r\n    private ldCtrl: LoadingController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private toast: ToastController\r\n  ) {}\r\n\r\n  async rRegister() {\r\n    await this.showSpinner();\r\n    var vfirstname = this.user.firstname;\r\n    var vSurname = this.user.surname;\r\n    var vEmail = this.user.email;\r\n    var vPassword = this.user.password;\r\n    var vMobile = this.user.phoneNo;\r\n    var vDoB = this.user.dOb;\r\n    if (vfirstname == \"\" || vfirstname == null){\r\n    this.toast.create({message: 'First name is empty', duration:2000}).present();\r\n    }else if (vSurname == \"\" || vSurname == null){\r\n    this.toast.create({message: 'Surname is empty', duration:2000}).present();\r\n    }else if (vEmail == \"\" || vEmail == null){\r\n    this.toast.create({message: 'email is empty', duration:2000}).present();\r\n    }else if (vMobile == \"\" || null){\r\n    this.toast.create({message: 'mobile field is empty', duration:2000}).present();\r\n    }else if (vMobile.length < 9){\r\n    this.toast.create({message: 'Phone number should have a minimum of 9 characters', duration:2000}).present();\r\n    }else if (vDoB == null) {\r\n    this.toast.create({message: 'First name is empty', duration:2000}).present();\r\n    }else if (vPassword.length < 8) {\r\n    this.toast.create({message:\"Password must be 8 or more characters with a special character\",duration: 2000,position: \"middle\"}).present();\r\n    }else{\r\n      try {\r\n        const result = await this.afAuth.auth.createUserWithEmailAndPassword(\r\n          this.user.email,\r\n          this.user.password\r\n        );\r\n        console.log(result);\r\n        this.afAuth.authState.take(1).subscribe(auth => {\r\n          this.user.NumberOfSales = 0;\r\n          this.user.Rating = 0;\r\n          this.afDatabase.object(`user/${auth.uid}`).set(this.user);\r\n        });\r\n        this.toast\r\n          .create({\r\n            message: \"Registration successful\",\r\n            position: \"middle\",\r\n            duration: 3000\r\n          })\r\n          .present();\r\n        this.navCtrl.setRoot(\"LoginPage\");\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  async rLogin() {\r\n    await this.showSpinner();\r\n    await this.navCtrl.setRoot(\"LoginPage\");\r\n  }\r\n\r\n  showSpinner() {\r\n    let loading = this.ldCtrl.create({\r\n      content: \"\"\r\n    });\r\n    loading.present();\r\n    setTimeout(() => {\r\n      loading.dismiss();\r\n    }, 50);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 230;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 230\n// module chunks = 17","var map = {\n\t\"../pages/account/account.module\": [\n\t\t628,\n\t\t14\n\t],\n\t\"../pages/add-card-modal/add-card-modal.module\": [\n\t\t629,\n\t\t13\n\t],\n\t\"../pages/admin-view/admin-view.module\": [\n\t\t630,\n\t\t12\n\t],\n\t\"../pages/admin/admin.module\": [\n\t\t631,\n\t\t16\n\t],\n\t\"../pages/admin2/admin2.module\": [\n\t\t632,\n\t\t11\n\t],\n\t\"../pages/admin3/admin3.module\": [\n\t\t633,\n\t\t10\n\t],\n\t\"../pages/adminpayments/adminpayments.module\": [\n\t\t634,\n\t\t9\n\t],\n\t\"../pages/buy/buy.module\": [\n\t\t635,\n\t\t8\n\t],\n\t\"../pages/home/home.module\": [\n\t\t298\n\t],\n\t\"../pages/login/login.module\": [\n\t\t299\n\t],\n\t\"../pages/modal-account/modal-account.module\": [\n\t\t636,\n\t\t7\n\t],\n\t\"../pages/order-history/order-history.module\": [\n\t\t637,\n\t\t6\n\t],\n\t\"../pages/page/page.module\": [\n\t\t638,\n\t\t5\n\t],\n\t\"../pages/payment-modal/payment-modal.module\": [\n\t\t639,\n\t\t4\n\t],\n\t\"../pages/register/register.module\": [\n\t\t640,\n\t\t15\n\t],\n\t\"../pages/select-location-modal/select-location-modal.module\": [\n\t\t641,\n\t\t3\n\t],\n\t\"../pages/sell/sell.module\": [\n\t\t642,\n\t\t2\n\t],\n\t\"../pages/tickets/tickets.module\": [\n\t\t643,\n\t\t1\n\t],\n\t\"../pages/view-image-modal/view-image-modal.module\": [\n\t\t644,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 275;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 275\n// module chunks = 17","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { HomePage } from \"./home\";\n\n@NgModule({\n  declarations: [HomePage],\n  imports: [IonicPageModule.forChild(HomePage)]\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { LoginPage } from \"./login\";\n@NgModule({\n  declarations: [LoginPage],\n  imports: [IonicPageModule.forChild(LoginPage)]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from \"@angular/core\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\nimport {\n  App,\n  IonicPage,\n  LoadingController,\n  NavController,\n  NavParams,\n  ToastController,\n  ModalController,\n  ModalOptions\n} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  selector: \"page-admin\",\n  templateUrl: \"admin.html\"\n})\nexport class AdminPage {\n  items = [];\n  kA = [];\n  ticketId: any;\n  itemSearch = [];\n  items2 = [];\n  refreshTickets = [];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private afAuth: AngularFireAuth,\n    private ldCtrl: LoadingController,\n    private fbDatabase: AngularFireDatabase,\n    private toast: ToastController,\n    private app: App,\n    private modal: ModalController\n  ) {}\n\n  ionViewDidLoad() {\n    this.retrieveUnaprovedTickets();\n    this.copyItems();\n  }\n\n  openImage() {\n    // Opens a modal to display the image that is viewed via a download url\n    var target = event.srcElement;\n    var imageUrl = target.parentElement.parentElement.children.item(7)\n      .innerHTML;\n    console.log(imageUrl);\n    const myModalOpts: ModalOptions = {\n      enableBackdropDismiss: true,\n      showBackdrop: false\n    };\n    const imageToView = {\n      url: imageUrl\n    };\n    const myModal = this.modal.create(\n      \"ViewImageModalPage\",\n      { image: imageToView },\n      myModalOpts\n    );\n    myModal.present();\n  }\n\n  refresh(): void {\n    // Can be called to refresh the page\n    window.location.reload();\n  }\n\n  initializeItems(): void {\n    // Initialises item search\n    this.itemSearch = this.items;\n  }\n\n  copyItems(): void {\n    this.items2.push(this.items);\n  }\n\n  onCancel() {\n    this.itemSearch = this.items2;\n  }\n\n  getItems(searchbar) {\n    //Allows user to filter through items via the users input\n    // Reset items\n    this.initializeItems();\n    console.log(this.itemSearch);\n    // set q to the value search\n    var q = searchbar.srcElement.value;\n    console.log(q);\n    if (q == undefined || q == \"\") {\n      this.items = this.items2;\n      this.items.splice(this.items.length - 1);\n      console.log(this.items);\n    } else {\n      this.itemSearch = this.itemSearch.filter(v => {\n        if (v.Key && q) {\n          if (v.Key.toLowerCase().indexOf(q.toLowerCase()) > -1) {\n            this.items = this.itemSearch;\n            return true;\n          }\n          return false;\n        }\n      });\n      console.log(q, this.itemSearch.length, this.itemSearch);\n      this.items.push(this.itemSearch);\n      this.reloadData();\n    }\n  }\n\n  reloadData() {\n    // Reloads the items.\n    this.items = this.itemSearch;\n  }\n\n  retrieveUnaprovedTickets() {\n    // Retrieve all of the unapproved tickets that are in the database, and creates an object for each one\n    var ref = this.fbDatabase.object(`unaprovedTickets/`);\n    ref.snapshotChanges().subscribe(snapshot => {\n      var allData = snapshot.payload.val();\n      var array = [];\n      array.push(allData);\n      var value = Object.keys(allData);\n      var keyArray = [];\n      keyArray.push(value);\n      for (var i = 0; i < value.length; i++) {\n        var x = 0;\n        var selectedIndex = i;\n        var keyValue = value[selectedIndex];\n        var indexSelecta = value.length - value.length + i;\n        var id = value[indexSelecta];\n        this.kA.push(id);\n        var ref = this.fbDatabase.object(`unaprovedTickets/${keyValue}`);\n        ref.snapshotChanges().subscribe(snapshot => {\n          const finalKey = this.kA[this.kA.length - this.kA.length + x];\n          const eventName = snapshot.payload.child(`Name`).val();\n          const eventPrice = snapshot.payload.child(`Price`).val();\n          const eventVenue = snapshot.payload.child(`Location`).val();\n          const eventDate = snapshot.payload.child(`Date`).val();\n          const eventTime = snapshot.payload.child(`Time`).val();\n          const lats = snapshot.payload.child(`Lat`).val();\n          const longs = snapshot.payload.child(`Long`).val();\n          const paymentAccount = snapshot.payload.child(`PayoutAccount`).val();\n          const paymentSort = snapshot.payload.child(`PaySortCode`).val();\n          const interested = snapshot.payload.child(`interested`).val();\n          const eventCreationDate = snapshot.payload\n            .child(`CreationDate`)\n            .val();\n          const downloadURL = snapshot.payload.child(`downloadURL`).val();\n          const eventSellerUID = snapshot.payload.child(`Seller`).val();\n          const eventCustomerPayout = snapshot.payload\n            .child(`CustomerPayout`)\n            .val();\n          const eventServiceCharge = snapshot.payload\n            .child(`ServiceCharge`)\n            .val();\n\n          const listingBoolean = snapshot.payload.child(`listingSold`).val();\n          this.items.push({\n            Key: finalKey,\n            Name: eventName,\n            Venue: eventVenue,\n            Price: eventPrice,\n            Date: eventDate,\n            Time: eventTime,\n            Creation: eventCreationDate,\n            Seller: eventSellerUID,\n            Payout: eventCustomerPayout,\n            Charge: eventServiceCharge,\n            Sold: listingBoolean,\n            Lat: lats,\n            Long: longs,\n            PayoutAccount: paymentAccount,\n            PayoutSortCode: paymentSort,\n            downloadURL: downloadURL,\n            interested: interested\n          });\n          x++;\n        });\n      }\n    });\n  }\n\n  accept() {\n    // Move the ticket from the unaproved table to the approved table\n    var temp = [];\n    var target = event.srcElement;\n    var ticketClicked =\n      parseInt(\n        target.parentElement.parentElement.children.item(0).innerHTML.valueOf()\n      ) - 1;\n    console.log(ticketClicked);\n    temp.push(this.items[ticketClicked]);\n    temp.filter(async v => {\n      temp = [\n        {\n          Key: v.Key,\n          Name: v.Name,\n          Venue: v.Venue,\n          Price: v.Price,\n          Date: v.Date,\n          Seller: v.Seller,\n          Time: v.Time,\n          Payout: v.Payout,\n          Creation: v.Creation,\n          Charge: v.Charge,\n          Long: v.Long,\n          Lat: v.Lat,\n          PayoutAccount: v.PayoutAccount,\n          PayoutSortCode: v.PayoutSortCode,\n          downloadURL: v.downloadURL,\n          interested: v.interested\n        }\n      ];\n\n      this.fbDatabase.list(`approvedTickets/`).push(temp[0]);\n      this.fbDatabase.list(`unaprovedTickets/${temp[0].Key}`).remove();\n      await this.toast\n        .create({\n          message:\n            \"Ticket\" +\n            \" \" +\n            temp[0].Key +\n            \" \" +\n            \"has been approved and moved to active listings\",\n          position: \"top\",\n          duration: 2000\n        })\n        .present();\n      await this.showSpinner();\n      this.refresh();\n    });\n  }\n\n  showSpinner() {\n    // Displays a spinner\n    let loading = this.ldCtrl.create({\n      content: \"\"\n    });\n    loading.present();\n    setTimeout(() => {\n      loading.dismiss();\n    }, 1500);\n  }\n\n  reject() {\n    // Rejects a ticket and removes it from the database.\n    var temp = [];\n    var target = event.srcElement;\n    var ticketClicked =\n      parseInt(\n        target.parentElement.parentElement.children.item(0).innerHTML.valueOf()\n      ) - 1;\n    console.log(ticketClicked);\n    temp.push(this.items[ticketClicked]);\n    temp.filter(async v => {\n      temp = [\n        {\n          Key: v.Key,\n          Name: v.Name,\n          Venue: v.Venue,\n          Price: v.Price,\n          Date: v.Date,\n          Seller: v.Seller,\n          Time: v.Time,\n          Payout: v.Payout,\n          Creation: v.Creation,\n          Charge: v.Charge,\n          Lat: v.Lat,\n          Long: v.Long\n        }\n      ];\n\n      this.fbDatabase.list(`rejectedTickets/`).push(temp[0]);\n      this.fbDatabase.list(`unaprovedTickets/${temp[0].Key}`).remove();\n      await this.toast\n        .create({\n          message: \"Ticket\" + \" \" + temp[0].Key + \" \" + \"has been rejected.\",\n          position: \"top\",\n          duration: 2000\n        })\n        .present();\n      await this.showSpinner();\n      this.refresh();\n    });\n  }\n\n  logout() {\n    // Logs a user out\n    this.afAuth.auth.signOut().then(() => {\n      this.toast\n        .create({\n          message: \"Signed out\",\n          position: \"middle\",\n          duration: 3500\n        })\n        .present();\n      this.app.getRootNav().setRoot(\"LoginPage\");\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts","import { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\nimport { AppModule } from \"./app.module\";\nimport \"rxjs/add/operator/take\";\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { ErrorHandler, NgModule } from \"@angular/core\";\r\nimport { BrowserModule } from \"@angular/platform-browser\";\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\nimport { GoogleMaps } from \"@ionic-native/google-maps\";\r\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\r\nimport { StatusBar } from \"@ionic-native/status-bar\";\r\nimport { Toast } from \"@ionic-native/toast\";\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from \"ionic-angular\";\r\nimport { File } from \"@ionic-native/file\";\r\nimport { FilePath } from \"@ionic-native/file-path\"\r\nimport { HomePageModule } from \"../pages/home/home.module\";\r\nimport { LoginPage } from \"../pages/login/login\";\r\nimport { LoginPageModule } from \"../pages/login/login.module\";\r\nimport { RegisterPage } from \"../pages/register/register\";\r\nimport { MyApp } from \"./app.component\";\r\nimport { FbConfig } from \"./app.firebase.config\";\r\nimport { AES256 } from \"@ionic-native/aes-256\";\r\nimport { AngularFireModule } from \"angularfire2\";\r\nimport { AngularFireStorage} from \"angularfire2/storage\";\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\nimport { AngularFireAuth } from \"angularfire2/auth\";\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/';\r\nimport { Stripe } from '@ionic-native/stripe';\r\n@NgModule({\r\n  declarations: [MyApp, RegisterPage],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp),\r\n    AngularFireModule.initializeApp(FbConfig),\r\n    LoginPageModule,\r\n    HomePageModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [MyApp, LoginPage, RegisterPage],\r\n  providers: [\r\n    [AES256],\r\n    [FilePath],\r\n    [StatusBar],\r\n    [AngularFireStorage],\r\n    [AndroidPermissions],\r\n    [Stripe],\r\n    [Toast],\r\n    [File],\r\n    [SplashScreen],\r\n    [GoogleMaps],\r\n    [AngularFireAuth],\r\n    [AngularFireDatabase],\r\n    [Geolocation],\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild, ElementRef, NgZone, ɵConsole } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  App,\r\n  NavParams,\r\n  ToastController,\r\n  AlertController\r\n} from \"ionic-angular\";\r\nimport { AngularFireAuth } from \"angularfire2/auth\";\r\nimport { Observable } from \"rxjs\";\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\n\r\ndeclare var google;\r\nvar userLat: number;\r\nvar userLong: number;\r\nvar userPos;\r\nvar keys = [];\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-home\",\r\n  templateUrl: \"home.html\"\r\n})\r\nexport class HomePage {\r\n  @ViewChild(\"map\") mapElement: ElementRef;\r\n  map: any;\r\n  markerObject = [];\r\n  items = [];\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private toast: ToastController,\r\n    private gLocation: Geolocation,\r\n    private afDatabase: AngularFireDatabase,\r\n    private app: App,\r\n    private aCtrl: AlertController,\r\n    private ngZone: NgZone,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n    (<any>window).ionicPageRef = {\r\n      zone: this.ngZone,\r\n      component: this\r\n    };\r\n  }\r\n\r\n  async ionViewWillLoad() {\r\n    await this.loadMap();\r\n    await this.loadListings();\r\n   // this.fetchTickets();\r\n  }\r\n\r\n\r\n\r\n  listingData: Observable<any>;\r\n\r\n  loadMap() { // Loads the google maps API on screen it then calls functions to populate it with data.\r\n    this.gLocation\r\n      .getCurrentPosition()\r\n      .then(resp => {\r\n        userLat = resp.coords.latitude;\r\n        userLong = resp.coords.longitude;\r\n        let latLng = new google.maps.LatLng(userLat, userLong);\r\n        userPos = latLng;\r\n        let mapOptions = {\r\n          center: latLng,\r\n          zoom: 7,\r\n          zoomControl: true,\r\n          disableDefaultUI: true,\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP\r\n        };\r\n        this.map = new google.maps.Map(\r\n          this.mapElement.nativeElement,\r\n          mapOptions\r\n        );\r\n        this.loadListings();\r\n        this.addUserMarker();\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Cannot locate you\", error);\r\n      });\r\n  }\r\n\r\n  addUserMarker() { // Adds a marker for the user based on their geolocation\r\n    let marker = new google.maps.Marker({\r\n      map: this.map,\r\n      animation: google.maps.Animation.DROP,\r\n      position: userPos\r\n    });\r\n    let content = \"You are here\" + \" \";\r\n    this.addInfoWindow(marker, content);\r\n  }\r\n\r\n  loadListings() { // Retrives approved listings from the table, create an object for each\r\n    // and then plots them on the map with their respective Lat/Lng\r\n    var ref = this.afDatabase.object(`approvedTickets/`);\r\n    ref.snapshotChanges().subscribe(snapshot => {\r\n      var allData = snapshot.payload.val();\r\n      var array = [];\r\n      array.push(allData);\r\n      var value = Object.keys(allData);\r\n      var keyArray = [];\r\n      keyArray.push(value);\r\n      for (var i = 0; i < value.length; i++) {\r\n        var x = 0;\r\n        var selectedIndex = i;\r\n        var keyValue = value[selectedIndex];\r\n        var indexSelecta = value.length - value.length + i;\r\n        var id = value[indexSelecta];\r\n        keys.push(id);\r\n        var ref = this.afDatabase.object(`approvedTickets/${keyValue}`);\r\n        ref.snapshotChanges().subscribe(snapshot => {\r\n          const finalKey = keys[keys.length - keys.length + x];\r\n          const eventName = snapshot.payload.child(`Name`).val();\r\n          const eventPrice = snapshot.payload.child(`Price`).val();\r\n          const eventVenue = snapshot.payload.child(`Venue`).val();\r\n          const eventDate = snapshot.payload.child(`Date`).val();\r\n          const eventTime = snapshot.payload.child(`Time`).val();\r\n          const eventCreationDate = snapshot.payload.child(`Creation`).val();\r\n          const eventSellerUID = snapshot.payload.child(`Seller`).val();\r\n          const eventCustomerPayout = snapshot.payload.child(`Payout`).val();\r\n          const eventServiceCharge = snapshot.payload.child(`Charge`).val();\r\n          const lats = snapshot.payload.child(`Lat`).val();\r\n          const longs = snapshot.payload.child(`Long`).val();\r\n          const interested = snapshot.payload.child(`interested`).val();\r\n          this.items.push({\r\n            index: x,\r\n            Key: finalKey,\r\n            Name: eventName,\r\n            Venue: eventVenue,\r\n            Price: eventPrice,\r\n            Date: eventDate,\r\n            Time: eventTime,\r\n            Creation: eventCreationDate,\r\n            Seller: eventSellerUID,\r\n            Payout: eventCustomerPayout,\r\n            Charge: eventServiceCharge,\r\n            Lat: lats,\r\n            Long: longs,\r\n            interested: interested\r\n          });\r\n          x++;\r\n        });\r\n        this.items.forEach(ticket => {\r\n          ticket.index;\r\n          ticket.Lat;\r\n          ticket.Long;\r\n          ticket.Artist;\r\n          let latLng = new google.maps.LatLng(ticket.Lat, ticket.Long);\r\n          let marker = new google.maps.Marker({\r\n            map: this.map,\r\n            position: latLng,\r\n            icon:\r\n              \"https://firebasestorage.googleapis.com/v0/b/dissy-c7abe.appspot.com/o/Webp.net-resizeimage%20(1).png?alt=media&token=689f51f3-e576-49bd-abc2-36b892a58fa6\"\r\n          });\r\n          let content =\r\n            \"<div class='infoWindowDiv'>\" +\r\n            \"<h1 hidden>\" +\r\n            ticket.Key +\r\n            \"</h1>\" +\r\n            \"<br>\" +\r\n            \" \" +\r\n            (\"<h2 hidden>\" + ticket.index + \"</h2>\") +\r\n            \"<br>\" +\r\n            \" \" +\r\n            (\"<h3 hidden>\" + ticket.Seller + \"</h3>\") +\r\n            \"<br>\" +\r\n            \" \" +\r\n            ticket.Name +\r\n            \"<br>\" +\r\n            \"Date\" +\r\n            \" \" +\r\n            ticket.Date +\r\n            \"<br>\" +\r\n            \"Time\" +\r\n            \" \" +\r\n            ticket.Time +\r\n            \"<br>\" +\r\n            \"Price:\" +\r\n            \" \" +\r\n            \"£\" +\r\n            ticket.Price +\r\n            \"<br>\" +\r\n            \"People interested:\" +\r\n            \" \" +\r\n            ticket.interested +\r\n            \"<br>\" +\r\n            \" \" +\r\n            '<button class=\"infoWindowButton\" <button onClick=\"window.ionicPageRef.zone.run(function () { window.ionicPageRef.component.buyTicketAlert()})\">Buy this ticket?</button></div>';\r\n          this.addInfoWindow(marker, content);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  fetchTickets() { // Makes the listings refresh every 20 seconds.\r\n    setInterval(() => this.loadListings(), 20000);\r\n  }\r\n\r\n  buyTicketAlert() { // Propmpts an alert when the user clicks to buy a ticket, and will execute based on users input\r\n    const target = event.srcElement;\r\n    const userId = this.afAuth.auth.currentUser.uid;\r\n    const sellerId = target.parentElement.children.item(4).innerHTML;\r\n    const ticketClickedId = target.parentElement.children\r\n      .item(0)\r\n      .innerHTML.toString();\r\n    const index = target.parentElement.children.item(2).innerHTML.toString();\r\n    let alert = this.aCtrl.create({\r\n      title: \"Payment\",\r\n      mode: \"ios\",\r\n      message:\r\n        \"Do you want to buy this ticket? The ticket will be reserved for 10 minutes.\",\r\n      buttons: [\r\n        {\r\n          text: \"Proceed\",\r\n          handler: () => {\r\n            this.buyTickets(userId, sellerId, ticketClickedId, index);\r\n          }\r\n        },\r\n        {\r\n          text: \"Dismiss\",\r\n          role: \"cancel\",\r\n          handler: () => {\r\n            console.log(\"No thank you\");\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  buyTickets(userId, sellerId, ticketClickedId, index) { //Check that the user isn't the person who listed the ticket\r\n  //If condition is met it will remove the ticket from the map and active listings and place the ticket in a users basket\r\n    const temp = [];\r\n    console.log(userId, sellerId, ticketClickedId, index);\r\n    if (userId == sellerId) {\r\n      this.yourTicketMessage();\r\n    } else {\r\n      const timeClicked = Date.now();\r\n      const checkOutBy = timeClicked + 600000;\r\n      temp.push(this.items[index]);\r\n      temp.filter(v => {\r\n        var tempArray = [\r\n          {\r\n            Key: v.Key,\r\n            Name: v.Name,\r\n            Venue: v.Venue,\r\n            Price: v.Price,\r\n            Date: v.Date,\r\n            Seller: v.Seller,\r\n            Time: v.Time,\r\n            Payout: v.Payout,\r\n            Creation: v.Creation,\r\n            Charge: v.Charge,\r\n            checkOutTime: timeClicked,\r\n            reservationPerioid: checkOutBy,\r\n            Lat: v.Lat,\r\n            Long: v.Long,\r\n            interested: v.interested\r\n          }\r\n        ];\r\n        var checkOutRef = this.afAuth.auth.currentUser.uid;\r\n        this.afDatabase\r\n          .list(`ticketsInBasket/${checkOutRef}`)\r\n          .push(tempArray[0]);\r\n        this.afDatabase.list(`approvedTickets/${tempArray[0].Key}`).remove();\r\n        this.items = [];\r\n        this.navCtrl.push(\"BuyPage\");\r\n      });\r\n    }\r\n  }\r\n\r\n  yourTicketMessage() { // Displays a toast to user if they try to buy their own ticket listing\r\n    this.toast\r\n      .create({\r\n        message: \"This is your listing.\",\r\n        duration: 2000,\r\n        position: \"Middle\"\r\n      })\r\n      .present();\r\n  }\r\n\r\n  refresh(): void {\r\n    window.location.reload();\r\n  }\r\n\r\n  checkOut() { // redirection\r\n    this.navCtrl.push(\"BuyPage\");\r\n  }\r\n\r\n  orderHistory() { // redirection\r\n    this.navCtrl.push(\"OrderHistoryPage\");\r\n  }\r\n\r\n  addInfoWindow(marker, content) { // Adds infowindow to markers on map (marker, content)\r\n    let infoWindow = new google.maps.InfoWindow({\r\n      content: content\r\n    });\r\n    google.maps.event.addListener(marker, \"click\", () => {\r\n      infoWindow.open(this.map, marker);\r\n    });\r\n  }\r\n\r\n  logout() { // Logs a user out\r\n    this.afAuth.auth.signOut().then(() => {\r\n      this.toast\r\n        .create({\r\n          message: \"Signed out\",\r\n          position: \"middle\",\r\n          duration: 3500\r\n        })\r\n        .present();\r\n      this.app.getRootNav().setRoot(\"LoginPage\");\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from \"@angular/core\";\nimport { Platform } from \"ionic-angular\";\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\nimport { LoginPage } from \"../pages/login/login\";\n\n@Component({\n  templateUrl: \"app.html\"\n})\nexport class MyApp {\n  rootPage = LoginPage;\n\n  constructor(\n    platform: Platform,\n    statusBar: StatusBar,\n    splashScreen: SplashScreen\n  ) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const FbConfig = {\r\n  apiKey: \"AIzaSyCqwIbC5-SIABFpRslbXqWZaUfLYmgX720\",\r\n  authDomain: \"dissy-c7abe.firebaseapp.com\",\r\n  databaseURL: \"https://dissy-c7abe.firebaseio.com\",\r\n  projectId: \"dissy-c7abe\",\r\n  storageBucket: \"dissy-c7abe.appspot.com\",\r\n  messagingSenderId: \"241298422972\"\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.firebase.config.ts"],"sourceRoot":""}