{"version":3,"sources":["../../src/pages/select-location-modal/select-location-modal.module.ts","../../src/pages/select-location-modal/select-location-modal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACkB;AAUlE;IAAA;IAA4C,CAAC;IAAhC,6BAA6B;QARzC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uFAAuB;aACxB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,uFAAuB,CAAC;aAClD;SACF,CAAC;OACW,6BAA6B,CAAG;IAAD,oCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ+B;AACwB;AAQjG;IAUE,iCAAmB,OAAsB,EAAU,IAAoB,EAAS,SAAoB,EAC5F,KAAqB,EAAU,IAAY;QADhC,YAAO,GAAP,OAAO,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAgB;QAAS,cAAS,GAAT,SAAS,CAAW;QAC5F,UAAK,GAAL,KAAK,CAAgB;QAAU,SAAI,GAAJ,IAAI,CAAQ;QACjD,IAAI,CAAC,kBAAkB,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;QACvE,IAAI,CAAC,YAAY,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;QAClC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACzC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACpB,CAAC;IAED,+CAAa,GAAb;QAAA,iBAcE;QAbA,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,EAC9E,UAAC,MAAM;YACL,KAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACZ,MAAM,CAAC,OAAO,CAAC,UAAC,MAAM;oBACpB,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACtC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACJ,CAAC;IAEG,oDAAkB,GAAxB,UAAyB,IAAI;;;;gBAC1B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;gBAC5B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAC,EAAE,UAAO,OAAO,EAAE,MAAM;;;;;qCACnE,OAAM,KAAK,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,GAA7B,wBAA6B;gCAC1B,QAAQ,GAAG;oCACX,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE;oCACvC,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE;iCAC1C,CAAC;gCACE,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;oCAClC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ;oCACtC,GAAG,EAAE,IAAI,CAAC,GAAG;iCACd,CAAC,CAAC;gCACL,qBAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;;gCAAhC,SAAgC,CAAC;gCAC/B,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gCAC7C,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;gCAC7D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gCAC3C,SAAS,GAAG,EAAE;gCAClB,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;gCACjB,OAAO,GAAG,EAAE;gCAChB,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;gCACtB,OAAO,GAAG,EAAE;gCAChB,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;gCAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC,SAAS,aAAE,OAAO,WAAE,OAAO,WAAC,CAAC,CAAC;;;;;qBAEpD,CAAC;;;;KACH;IAED,gDAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;QACtD,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAEH,uCAAK,GAAL;QACE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;IAEvB,CAAC;IAED,yCAAO,GAAP;QACE,IAAI,KAAK,GAAG,EAAC,GAAG,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,EAAC,CAAC;QACrC,IAAI,UAAU,GAAG;YACf,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,CAAC;YACP,WAAW,EAAE,IAAI;YACjB,gBAAgB,EAAE,IAAI;YACtB,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;SACzC,CAAC;QACF,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,EAC7B,UAAU,CACX,CAAC;IAEF,CAAC;IArFa;QAAjB,yEAAS,CAAC,KAAK,CAAC;sDAAa,iEAAU,oBAAV,iEAAU;+DAAC;IAD9B,uBAAuB;QAJnC,wEAAS,CAAC;YACT,QAAQ,EAAE,4BAA4B;WACG;SAC1C,CAAC;gCAYmD;OAXxC,uBAAuB,CAuF/B;IAAD,2BAAC;;AAAA;SAvFQ,uBAAuB,iB","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SelectLocationModalPage } from './select-location-modal';\n\n@NgModule({\n  declarations: [\n    SelectLocationModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SelectLocationModalPage),\n  ],\n})\nexport class SelectLocationModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location-modal/select-location-modal.module.ts","import { Component, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController, Modal } from 'ionic-angular';\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-select-location-modal',\n  templateUrl: 'select-location-modal.html',\n})\nexport class SelectLocationModalPage {\n  @ViewChild(\"map\") mapElement: ElementRef;\n  GoogleAutocomplete:any;\n  autocomplete:any;\n  autocompleteItems:any;\n  map: any;\n  markers: any;\n  geocoder: any;\n\n\n  constructor(public navCtrl: NavController, private view: ViewController, public navParams: NavParams,\n  private vCtrl: ViewController, private zone: NgZone) {\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: '' };\n    this.autocompleteItems = [];\n    this.geocoder = new google.maps.Geocoder;\n    this.markers = [];\n  }\n\n  updateResults(){\n    if (this.autocomplete.input == '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({ input: this.autocomplete.input },\n    (places) => {\n      this.autocompleteItems = [];\n      this.zone.run(() => {\n        places.forEach((places) => {\n          this.autocompleteItems.push(places);\n        });\n      });\n    });\n   }\n\n async selectSearchResult(item){\n    this.autocompleteItems = [];\n    this.geocoder.geocode({'placeId': item.place_id}, async (results, status) => {\n      if(status === 'OK' && results[0]){\n        let position = {\n            lat: results[0].geometry.location.lat(),\n            lng: results[0].geometry.location.lng()\n        };\n        let marker = new google.maps.Marker({\n          position: results[0].geometry.location,\n          map: this.map,\n        });\n      await  this.markers.push(marker);\n        this.map.setCenter(results[0].geometry.location);\n        var venue = this.autocomplete.input.toString().toUpperCase();\n        console.log(position.lat, position.lng, venue);\n        var venueData = []\n        venueData.push(venue)\n        var latData = []\n        latData.push(position.lat)\n        var lngData = []\n        lngData.push(position.lng)\n        this.view.dismiss({venueData, latData, lngData});\n      }\n    })\n  }\n \n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SelectLocationModalPage');\n    this.loadMap();\n  }\n\nclose(){\n  this.vCtrl.dismiss();\n\n}\n\nloadMap() {\n  var uluru = {lat: -25.344, lng: 131.036};\n      let mapOptions = {\n        center: uluru,\n        zoom: 1,\n        zoomControl: true,\n        disableDefaultUI: true,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      };\n      this.map = new google.maps.Map(\n        this.mapElement.nativeElement,\n        mapOptions\n      );\n\n      }\n    }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location-modal/select-location-modal.ts"],"sourceRoot":""}