{"version":3,"sources":["../../src/pages/select-location-modal/select-location-modal.module.ts","../../src/pages/select-location-modal/select-location-modal.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { SelectLocationModalPage } from \"./select-location-modal\";\n\n@NgModule({\n  declarations: [SelectLocationModalPage],\n  imports: [IonicPageModule.forChild(SelectLocationModalPage)]\n})\nexport class SelectLocationModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location-modal/select-location-modal.module.ts","import { Component, ViewChild, ElementRef, NgZone } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ViewController\n} from \"ionic-angular\";\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: \"page-select-location-modal\",\n  templateUrl: \"select-location-modal.html\"\n})\nexport class SelectLocationModalPage {\n  @ViewChild(\"map\") mapElement: ElementRef;\n  GoogleAutocomplete: any;\n  autocomplete: any;\n  autocompleteItems: any;\n  map: any;\n  markers: any;\n  geocoder: any;\n\n  constructor(\n    public navCtrl: NavController,\n    private view: ViewController,\n    public navParams: NavParams,\n    private vCtrl: ViewController,\n    private zone: NgZone\n  ) {\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: \"\" };\n    this.autocompleteItems = [];\n    this.geocoder = new google.maps.Geocoder();\n    this.markers = [];\n  }\n\n  updateResults() {\n    if (this.autocomplete.input == \"\") {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions(\n      { input: this.autocomplete.input },\n      places => {\n        this.autocompleteItems = [];\n        this.zone.run(() => {\n          places.forEach(places => {\n            this.autocompleteItems.push(places);\n          });\n        });\n      }\n    );\n  }\n\n  async selectSearchResult(item) {\n    this.autocompleteItems = [];\n    this.geocoder.geocode(\n      { placeId: item.place_id },\n      async (results, status) => {\n        if (status === \"OK\" && results[0]) {\n          let position = {\n            lat: results[0].geometry.location.lat(),\n            lng: results[0].geometry.location.lng()\n          };\n          let marker = new google.maps.Marker({\n            position: results[0].geometry.location,\n            map: this.map\n          });\n          await this.markers.push(marker);\n          this.map.setCenter(results[0].geometry.location);\n          var venue = this.autocomplete.input.toString().toUpperCase();\n          console.log(position.lat, position.lng, venue);\n          var venueData = [];\n          venueData.push(venue);\n          var latData = [];\n          latData.push(position.lat);\n          var lngData = [];\n          lngData.push(position.lng);\n          this.view.dismiss({ venueData, latData, lngData });\n        }\n      }\n    );\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad SelectLocationModalPage\");\n    this.loadMap();\n  }\n\n  close() {\n    this.vCtrl.dismiss({ venueData: 0, latData: 0, lngData: 0 });\n  }\n\n  loadMap() {\n    var uluru = { lat: -25.344, lng: 131.036 };\n    let mapOptions = {\n      center: uluru,\n      zoom: 1,\n      zoomControl: true,\n      disableDefaultUI: true,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location-modal/select-location-modal.ts"],"sourceRoot":""}