{"version":3,"sources":["../../src/pages/buy/buy.module.ts","../../src/pages/buy/buy.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BuyPage } from './buy';\n\n@NgModule({\n  declarations: [\n    BuyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BuyPage),\n  ],\n})\nexport class BuyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buy/buy.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController,\n  ModalController,\n  ModalOptions\n} from \"ionic-angular\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\n\n/**\n * Generated class for the BuyPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-buy\",\n  templateUrl: \"buy.html\"\n})\nexport class BuyPage {\n  items = [];\n  kA = [];\n  items2 = [];\n  itemSearch = [];\n  timedOutListings = [];\n  constructor(\n    public navCtrl: NavController,\n    private afAuth: AngularFireAuth,\n    private toast: ToastController,\n    private afDatabase: AngularFireDatabase,\n    public navParams: NavParams,\n    private modal: ModalController\n  ) {}\n\n  ionViewDidLoad() {\n    this.retrieveCheckoutTickets();\n    this.checkOutTimer();\n  }\n\n  checkOutTimer() {\n    var currentUser = this.afAuth.auth.currentUser.uid;\n    var ref = this.afDatabase.object(`ticketsInBasket/${currentUser}`);\n    ref.snapshotChanges().subscribe(snapshot => {\n      var allData = snapshot.payload.val();\n      var array = [];\n      array.push(allData);\n      var value = Object.keys(allData);\n      var keyArray = [];\n      keyArray.push(value);\n      for (var i = 0; i < value.length; i++) {\n        var x = 0;\n        var count = 0;\n        var selectedIndex = i;\n        var keyValue = value[selectedIndex];\n        var indexSelecta = value.length - value.length + i;\n        var id = value[indexSelecta];\n        this.kA.push(id);\n        var ref = this.afDatabase.object(\n          `ticketsInBasket/${currentUser}/${keyValue}`\n        );\n        ref.snapshotChanges().subscribe(snapshot => {\n          var eventSellerUID = snapshot.payload.child(`Seller`).val();\n          var checkOutTime = snapshot.payload.child(`checkOutTime`).val();\n          var timeNow = Date.now();\n        //  console.log(checkOutTime + 450000, timeNow);\n          var eventName = snapshot.payload.child(`Name`).val();\n          var eventPrice = snapshot.payload.child(`Price`).val();\n          var eventVenue = snapshot.payload.child(`Venue`).val();\n          var eventDate = snapshot.payload.child(`Date`).val();\n          var eventTime = snapshot.payload.child(`Time`).val();\n          var eventCreationDate = snapshot.payload.child(`Creation`).val();\n          var eventCustomerPayout = snapshot.payload.child(`Payout`).val();\n          var eventServiceCharge = snapshot.payload.child(`Charge`).val();\n          var maxTime = checkOutTime + 600000;\n        //  console.log(maxTime);\n          if (maxTime <= timeNow) {\n            this.timedOutListings.push({\n              Name: eventName,\n              Venue: eventVenue,\n              Price: eventPrice,\n              Date: eventDate,\n              Time: eventTime,\n              Creation: eventCreationDate,\n              Seller: eventSellerUID,\n              Payout: eventCustomerPayout,\n              Charge: eventServiceCharge\n            });\n            x++;\n            count + 1;\n            var indexToPush = count;\n          //  console.log(count, indexToPush)\n            this.afDatabase\n              .list(`approvedTickets/`)\n              .push(this.timedOutListings[0]);\n              console.log(this.timedOutListings[0]);\n              this.timedOutListings.splice(0, 1);\n            this.afDatabase\n              .object(`ticketsInBasket/${currentUser}/${keyValue}`)\n              .remove();\n          } else if (maxTime > timeNow) {\n          //  console.log(\"Hello\", maxTime);\n          }\n        });\n      }\n    });\n  }\n\n  \n  checkOut() {\n    var target = event.srcElement;\n    var uId = this.afAuth.auth.currentUser.uid;\n    var ticketId = (target.parentElement.parentElement.children.item(1).innerHTML);\n    var sId = (target.parentElement.parentElement.children.item(2).innerHTML);\n    var sPrice = (target.parentElement.parentElement.children.item(5).innerHTML.substr(6,10));\n    var temp = [];\n    var ticketClicked =\n      parseInt(\n        target.parentElement.parentElement.children.item(0).innerHTML.valueOf()\n      ) - 1;\n      console.log(uId, ticketId, sId, sPrice);\n    console.log(ticketClicked);\n    temp.push(this.items[ticketClicked]);\n    console.log(temp);\n    temp.filter(v => {\n      var tempArray = [\n        {\n          Key: v.Key,\n          Name: v.Name,\n          Venue: v.Venue,\n          Price: v.Price,\n          Date: v.Date,\n          Seller: v.Seller,\n          Time: v.Time,\n          Payout: v.Payout,\n          Creation: v.Creation,\n          Charge: v.Charge\n        }\n      ];\n    });\n    const myModalOpts: ModalOptions = {\n      cssClass: 'modal',\n      enableBackdropDismiss: false,\n      showBackdrop: true,\n    }\n    const listingRef = {userId: uId, ticketRef: ticketId, sellerId: sId, price: sPrice}\n    const myModal = this.modal.create('PaymentModalPage', {ticket: listingRef}, myModalOpts);\n    myModal.present()\n  }\n\n  retrieveCheckoutTickets() {\n    var currentUser = this.afAuth.auth.currentUser.uid;\n    var ref = this.afDatabase.object(`ticketsInBasket/${currentUser}`);\n    ref.snapshotChanges().subscribe(snapshot => {\n      var allData = snapshot.payload.val();\n      var array = [];\n      array.push(allData);\n      var value = Object.keys(allData);\n      var keyArray = [];\n      keyArray.push(value);\n      for (var i = 0; i < value.length; i++) {\n        var x = 0;\n        var count = 0;\n        var selectedIndex = i;\n        var keyValue = value[selectedIndex];\n        var indexSelecta = value.length - value.length + i;\n        var id = value[indexSelecta];\n        this.kA.push(id);\n        var ref = this.afDatabase.object(\n          `ticketsInBasket/${currentUser}/${keyValue}`\n        );\n        ref.snapshotChanges().subscribe(snapshot => {\n          var eventSellerUID = snapshot.payload.child(`Seller`).val();\n          var finalKey = this.kA[this.kA.length - this.kA.length + x];\n          var eventName = snapshot.payload.child(`Name`).val();\n          var eventPrice = snapshot.payload.child(`Price`).val();\n          var eventVenue = snapshot.payload.child(`Venue`).val();\n          var eventDate = snapshot.payload.child(`Date`).val();\n          var eventTime = snapshot.payload.child(`Time`).val();\n          var eventCreationDate = snapshot.payload.child(`Creation`).val();\n          var eventCustomerPayout = snapshot.payload.child(`Payout`).val();\n          var eventServiceCharge = snapshot.payload.child(`Charge`).val();\n          var reserved = snapshot.payload.child(`checkOutTime`).val();\n          var timeLeft = snapshot.payload.child(`reservationPerioid`).val();\n          this.items.push({\n            Key: finalKey,\n            Name: eventName,\n            Venue: eventVenue,\n            Price: eventPrice,\n            Date: eventDate,\n            Time: eventTime,\n            Creation: eventCreationDate,\n            Seller: eventSellerUID,\n            Payout: eventCustomerPayout,\n            Charge: eventServiceCharge,\n            CheckoutPeriod:timeLeft\n          });\n          x++;\n          count + 1;\n        });\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buy/buy.ts"],"sourceRoot":""}