{"version":3,"sources":["../../src/pages/order-history/order-history.module.ts","../../src/pages/order-history/order-history.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { OrderHistoryPage } from \"./order-history\";\n\n@NgModule({\n  declarations: [OrderHistoryPage],\n  imports: [IonicPageModule.forChild(OrderHistoryPage)]\n})\nexport class OrderHistoryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-history/order-history.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController,\n  ModalController,\n  ModalOptions,\n  AlertController\n} from \"ionic-angular\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { AES256 } from \"@ionic-native/aes-256\";\n\n@IonicPage()\n@Component({\n  selector: \"page-order-history\",\n  templateUrl: \"order-history.html\"\n})\nexport class OrderHistoryPage {\n  items = [];\n  itemSold = [];\n  kA = [];\n  items2 = [];\n  itemSearch = [];\n  seperator: any;\n  seperator2: any;\n  plainTextCard: any;\n  hoursLeft: number;\n  minutesLeft: number;\n  secondsLeft: number;\n  timer: any;\n  belowTen: any;\n  belowTenMin: any;\n  constructor(\n    public navCtrl: NavController,\n    private afAuth: AngularFireAuth,\n    private afDatabase: AngularFireDatabase,\n    private toast: ToastController,\n    private aes: AES256,\n    private modal: ModalController,\n    private aCtrl: AlertController,\n    public navParams: NavParams\n  ) {}\n\n  ionViewDidLoad() {\n    this.retrieveBoughtListings();\n    this.retrieveSoldListings();\n  //  this.fetchTickets();\n  }\n\n  remove(currentuser, id) {\n    this.afDatabase\n      .list(`sold/${currentuser}/${id}`)\n      .remove()\n      .then(res => {\n        console.log(res);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    this.items = [];\n    this.retrieveSoldListings;\n  }\n\n  refresh(): void {\n    window.location.reload();\n  }\n\n\n  getTime(){\n    const button = event.srcElement;\n    const date = button.parentElement.parentElement.children.item(3).innerHTML;\n    const  hours = button.parentElement.parentElement.children.item(4).innerHTML;\n    const YYYY = parseInt(date.substr(6));\n    const MM = parseInt(date.substr(3, 3));\n    const DD = parseInt(date.substr(0, 2));\n    const HH = parseInt(hours.substr(0,2))\n    const eventInMilliseconds = new Date(YYYY, MM, DD, HH).getTime();\n    const removalAllowedTime = eventInMilliseconds + 960000;\n    const timeNow = new Date().getTime();\n    if (timeNow >= removalAllowedTime){\n    this.removeAlertBought();\n    }else{\n    this.toast.create({message:'You will be able to remove this record 24hrs after the event has taken place', duration:3000, position:'middle'}).present();\n    }\n  }\n\n\n  async viewTicket() {\n    const button = event.srcElement;\n    var url = button.parentElement.parentElement.children.item(6).innerHTML;\n    console.log(url);\n    const myModalOpts: ModalOptions = {\n      enableBackdropDismiss: true,\n      showBackdrop: false\n    };\n    const imageToView = {\n      url: url\n    };\n    const myModal = this.modal.create(\n      \"ViewImageModalPage\",\n      { image: imageToView },\n      myModalOpts\n    );\n    myModal.present();\n  }\n\n  async retrieveSoldListings() {\n    const currentUser = this.afAuth.auth.currentUser.uid;\n    const ref = this.afDatabase.object(`sold/${currentUser}`);\n    ref.snapshotChanges().subscribe(snapshot => {\n      var allData = snapshot.payload.val();\n      var keyValues = Object.keys(allData);\n      console.log(keyValues);\n      for (var i = 0; i < keyValues.length; ) {\n        const key = keyValues[i].valueOf();\n        this.afDatabase\n          .object(`sold/${currentUser}/${keyValues[i]}`)\n          .snapshotChanges()\n          .subscribe(async data => {\n            console.log(key);\n            const Artist = data.payload.child(`Artist`).val();\n            const AccountNo = data.payload.child(`AccountNo`).val();\n            const Date = data.payload.child(`Date`).val();\n            const FundRelease = data.payload.child(`FundRelease`).val();\n            const Price = data.payload.child(`Price`).val();\n            const SortCode = data.payload.child(`SortCode`).val();\n            const Venue = data.payload.child(`Venue`).val();\n            const Status = data.payload.child(`Status`).val();\n            var ticketObject = {\n              Key: key,\n              Artist: Artist,\n              Venue: Venue,\n              Date: Date,\n              Price: Price,\n              AccountNo: AccountNo,\n              FundRelease: FundRelease,\n              SortCode: SortCode,\n              Status: Status\n            };\n            this.itemSold.push(ticketObject);\n            console.log(this.itemSold);\n          });\n        i++;\n      }\n    });\n  }\n\n  removeAlertSold() {\n    const target = event.srcElement;\n    const id = target.parentElement.parentElement.children.item(1).innerHTML;\n    const currentUser = this.afAuth.auth.currentUser.uid;\n    let alert = this.aCtrl.create({\n      title: \"Order history\",\n      mode: \"ios\",\n      message: \"Remove this record?\",\n      buttons: [\n        {\n          text: \"Yes\",\n          handler: () => {\n            this.remove(currentUser, id);\n          }\n        },\n        {\n          text: \"NO\",\n          role: \"cancel\",\n          handler: () => {}\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  //fetchTickets() {\n  //  setInterval(() => this.retrieveBoughtListings(), 45000);\n  //  setInterval(() => this.retrieveSoldListings(), 45000);\n  //}\n\n  removeBoughtTicket(currentUser, id) {\n    this.afDatabase.list(`bought/${currentUser}/${id}`).remove;\n  }\n\n  removeAlertBought() {\n    const target = event.srcElement;\n    const id = target.parentElement.parentElement.children.item(1).innerHTML;\n    const currentUser = this.afAuth.auth.currentUser.uid;\n    let alert = this.aCtrl.create({\n      title: \"Order history\",\n      mode: \"ios\",\n      message: \"Remove this record?\",\n      buttons: [\n        {\n          text: \"Yes\",\n          handler: () => {\n            this.removeBoughtTicket(currentUser, id);\n          }\n        },\n        {\n          text: \"NO\",\n          role: \"cancel\",\n          handler: () => {}\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  paymentDetails() {\n    const target = event.srcElement;\n    const id = target.parentElement.parentElement.children.item(1).innerHTML;\n    const Account = target.parentElement.parentElement.children.item(6)\n      .innerHTML;\n    const Sort = target.parentElement.parentElement.children.item(7).innerHTML;\n    const currentUser = this.afAuth.auth.currentUser.uid;\n    console.log(Date.now() + 960000);\n    var ref = this.afDatabase.object(`sold/${currentUser}/${id}`);\n    ref.snapshotChanges().subscribe(snapshot => {\n      const databaseTime = snapshot.payload.child(`FundRelease`).val();\n      const timeNow = Date.now();\n      const string = \"Complete\";\n      let alert = this.aCtrl.create({\n        title: \"Payment details\",\n        mode: \"ios\",\n        message:\n          \"Payment account:\" +\n          \" \" +\n          Account +\n          \"<br>\" +\n          \"Sortcode:\" +\n          \" \" +\n          Sort,\n        buttons: [\n          {\n            text: \"Close\",\n            handler: () => {}\n          }\n        ]\n      });\n      alert.present();\n      if (timeNow > databaseTime) {\n        this.afDatabase\n          .object(`sold/${currentUser}/${id}`)\n          .update({ Status: string })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  async retrieveBoughtListings() {\n    const currentUser = this.afAuth.auth.currentUser.uid;\n    const ref = this.afDatabase.object(`bought/${currentUser}`);\n    ref.snapshotChanges().subscribe(snapshot => {\n      var allData = snapshot.payload.val();\n      var keyValues = Object.keys(allData);\n      for (var i = 0; i < keyValues.length; ) {\n        this.afDatabase\n          .object(`bought/${currentUser}/${keyValues[i]}`)\n          .snapshotChanges()\n          .subscribe(async data => {\n            const Artist = data.payload.child(`Artist`).val();\n            var Card = data.payload.child(`Card`).val();\n            const Date = data.payload.child(`Date`).val();\n            const Time = data.payload.child(`Time`).val();\n            const Price = data.payload.child(`Price`).val();\n            const Ticket = data.payload.child(`Ticket`).val();\n            const Venue = data.payload.child(`Venue`).val();\n            const eIV = data.payload.child(`eIV`).val();\n            const eKey = data.payload.child(`eKey`).val();\n            await this.aes\n              .decrypt(eKey, eIV, Card)\n              .then(acc => (this.plainTextCard = acc))\n              .catch((error: any) => console.log(error));\n            var ticketObject = {\n              Artist: Artist,\n              Card: this.plainTextCard.substr(15),\n              Date: Date,\n              Time: Time,\n              Price: Price,\n              Ticket: Ticket,\n              Venue: Venue\n            };\n            this.items.push(ticketObject);\n            console.log(this.items);\n          });\n        i++;\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-history/order-history.ts"],"sourceRoot":""}