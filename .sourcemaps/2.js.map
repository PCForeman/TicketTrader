{"version":3,"sources":["../../src/pages/select-location-modal/select-location-modal.module.ts","../../src/pages/select-location-modal/select-location-modal.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { SelectLocationModalPage } from \"./select-location-modal\";\r\n\r\n@NgModule({\r\n  declarations: [SelectLocationModalPage],\r\n  imports: [IonicPageModule.forChild(SelectLocationModalPage)]\r\n})\r\nexport class SelectLocationModalPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location-modal/select-location-modal.module.ts","import { Component, ViewChild, ElementRef, NgZone } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ViewController\r\n} from \"ionic-angular\";\r\n\r\ndeclare var google;\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-select-location-modal\",\r\n  templateUrl: \"select-location-modal.html\"\r\n})\r\nexport class SelectLocationModalPage {\r\n  @ViewChild(\"map\") mapElement: ElementRef;\r\n  GoogleAutocomplete: any;\r\n  autocomplete: any;\r\n  autocompleteItems: any;\r\n  map: any;\r\n  markers: any;\r\n  geocoder: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private view: ViewController,\r\n    public navParams: NavParams,\r\n    private vCtrl: ViewController,\r\n    private zone: NgZone\r\n  ) {\r\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\r\n    this.autocomplete = { input: \"\" };\r\n    this.autocompleteItems = [];\r\n    this.geocoder = new google.maps.Geocoder();\r\n    this.markers = [];\r\n  }\r\n\r\n  updateResults() {\r\n    if (this.autocomplete.input == \"\") {\r\n      this.autocompleteItems = [];\r\n      return;\r\n    }\r\n    this.GoogleAutocomplete.getPlacePredictions(\r\n      { input: this.autocomplete.input },\r\n      places => {\r\n        this.autocompleteItems = [];\r\n        this.zone.run(() => {\r\n          places.forEach(places => {\r\n            this.autocompleteItems.push(places);\r\n          });\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  async selectSearchResult(item) {\r\n    this.autocompleteItems = [];\r\n    this.geocoder.geocode(\r\n      { placeId: item.place_id },\r\n      async (results, status) => {\r\n        if (status === \"OK\" && results[0]) {\r\n          let position = {\r\n            lat: results[0].geometry.location.lat(),\r\n            lng: results[0].geometry.location.lng()\r\n          };\r\n          let marker = new google.maps.Marker({\r\n            position: results[0].geometry.location,\r\n            map: this.map\r\n          });\r\n          await this.markers.push(marker);\r\n          this.map.setCenter(results[0].geometry.location);\r\n          var venue = this.autocomplete.input.toString().toUpperCase();\r\n          console.log(position.lat, position.lng, venue);\r\n          var venueData = [];\r\n          venueData.push(venue);\r\n          var latData = [];\r\n          latData.push(position.lat);\r\n          var lngData = [];\r\n          lngData.push(position.lng);\r\n          this.view.dismiss({ venueData, latData, lngData });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad SelectLocationModalPage\");\r\n    this.loadMap();\r\n  }\r\n\r\n  close() {\r\n    this.vCtrl.dismiss({ venueData: 0, latData: 0, lngData: 0 });\r\n  }\r\n\r\n  loadMap() {\r\n    var uluru = { lat: -25.344, lng: 131.036 };\r\n    let mapOptions = {\r\n      center: uluru,\r\n      zoom: 1,\r\n      zoomControl: true,\r\n      disableDefaultUI: true,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    };\r\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select-location-modal/select-location-modal.ts"],"sourceRoot":""}